# Personal Website Backend

There are three versions of website:
* React.js + API, using the UI from `../frontend`
	* Can be started by `batch\run.bat`
	* Available at url http://localhost:8080/hinst-website/
* Server side rendering, managed by `webPageGoals.go`
	* Can be started by `batch\run.bat` as well and accessed at `/pages`
	* Available at url http://localhost:8080/hinst-website/pages
* Static files, generated by `webStaticGoals.go`
	* Can be generated by `batch\generate.bat` while the main server is running
	* The files will be saved into `static` folder

## SQLite vs PostgreSQL search benchmark
Full text search through goal posts on Orange Pi Zero 2W. HTML tags are getting stripped.
Searching only the currently selected language, which can be changed in settings UI.

### SQLite:

	C:\Dev\hinst-website\backend>node search-benchmark.mjs
	Benchmarking: count=100, url=http://192.168.0.23:30001/hinst-website/api, words=3
	Search for "pascal": min=58ms, avg=73ms, max=87ms, results=3
	Search for "always": min=59ms, avg=74ms, max=93ms, results=11
	Search for "week": min=60ms, avg=74ms, max=90ms, results=84

To sum it up, search takes 60 milliseconds. Cold start: around 200 milliseconds.

### PostgreSQL:

	C:\Dev\hinst-website\backend>node search-benchmark.mjs
	Benchmarking: count=100, url=http://192.168.0.23:30001/hinst-website/api, words=3
	Search for "pascal": min=45ms, avg=59ms, max=101ms, results=3
	Search for "always": min=45ms, avg=59ms, max=72ms, results=11
	Search for "week": min=46ms, avg=60ms, max=79ms, results=87

To sum it up, search takes 45 milliseconds. Cold start: around 100 milliseconds.
